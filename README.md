# dizzy_dinghies_simulator

* Run plot.py, which reads from input/new_input.py, which is where you write the code.
* This opens up a plot showing the path that the dinghy will take (in blue) and the collision points which are a little in front of the dinghy.
* When you close this, the input is converted into lua_input.lua, which you can then copy to /lua/automation/ . You'll also see the final time and some other output.
* Enter the course in Bizhawk and then run /lua/automation/deliver_input.lua . Beware of the lua console caching your old lua_input.lua file.
* This will deliver the same input as in new_input.py and - provided your input doesn't lead to any collisions - it will give the same end time.
* To convert this to an actual TAS you'll just have to be recording while you do this.

The stuff in /data has been dumped using lua/dump_data/* , and the images in /imgs where generated by tweaking the pyplot code. 
Under inputs/all there are my two TASes, neither of which use RFD, and the meme I made which achieves a 900 degree spin completion on course 1 in 17.60, using Rapid Fire Drift.

/lib and engine.py contain the core of the code. The main pain was in some mistake in the code for rendering the cross-section of the 3D collisions. Fortunately though the dinghy bobs up and down, the collision point remains at the same fixed height of 75, else the 2nd and 3rd courses would have been a nightmare with their leaned edges.

A really enjoyable quarantine project. RIP the console runners who had tied the previous 17.03 TASes. 

![Demo image](https://github.com/whiteted-strats/dizzy_dinghies_simulator/blob/main/imgs/c1_17_flat_small.png?raw=true)
